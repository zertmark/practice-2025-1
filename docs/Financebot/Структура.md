# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞**
```
‚îú FinanceBot.py      # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –±–æ—Ç–∞
‚îú databases/
‚îÇ ‚îú‚îÄ‚îÄ finance.db     # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏
‚îÇ ‚îî‚îÄ‚îÄ stack.db       # –î–∞–Ω–Ω—ã–µ —Å–∫–ª–∞–¥–∞
‚îú src/
‚îÇ ‚îú‚îÄ‚îÄ Database.py    # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å DB
‚îÇ ‚îú‚îÄ‚îÄ Stack.py       # –õ–æ–≥–∏–∫–∞ —Å–∫–ª–∞–¥–∞
‚îÇ ‚îú‚îÄ‚îÄ Finance.py     # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ ‚îú‚îÄ‚îÄ ExcelWriter.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel
‚îÇ ‚îî‚îÄ‚îÄ commands.py    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
```

## üåê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] <--> B[Telegram API]
    B <--> C[FinanceBot.py]
    C <--> D[MessageHandler]
    D <--> E[Stack Module]
    D <--> F[Finance Module]
    E <--> G[(Stack DB)]
    F <--> H[(Finance DB)]
    D <--> I[ExcelWriter]
```
## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Core Bot (FinanceBot.py)**
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
   - –†–æ—É—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

2. **Database Layer**
   - SQLite-wrapper'—ã
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

3. **Business Logic**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç:
     - –ü—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫–æ–≤
     - –†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
     - –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤

4. **Reporting System**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è XLSX-–æ—Ç—á–µ—Ç–æ–≤
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```mermaid
erDiagram
    STACK ||--o{ SALES : —Å–æ–¥–µ—Ä–∂–∏—Ç
    FINANCE ||--o{ PLANS : –≤–∫–ª—é—á–∞–µ—Ç
    
    STACK {
        int product_id PK
        string name
        int remaining
        decimal cost
        decimal revenue
    }
    
    FINANCE {
        int month_id PK
        string period
        decimal plan
        decimal actual
    }
```
